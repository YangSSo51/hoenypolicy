{% extends 'base.html'%}

{% block content %}
<style>
a:hover{
    color: black;
}
a{
    color: black;
    padding:0;
}
</style>
<body>
<br>
<div class="container">
  <br>
  <div class="row">
{% for policy in posts %}
  <!--이부분부터 추가 for문으로 넣으시면 됩니다-->
  <div class = "col-sm-12 col-md-6 col-xl-3">
    <div class="card h-card">
      <div class="card-body h-card-body">
        <a href="{% url 'policydetail' policy.id %}">{{policy.title}}</a>
        <p class="h-card-text">{{policy.region}}</p>
        <p class="h-card-text">{{policy.body}}</p>
      </div>
    </div>
  </div>
{% endfor %}
  <br><br>
  </div>
</div>
    <hr>
    <br>
    <br>

    {# 게시판 형식 및 페이지네이션 구현 #}

    {% if posts.has_other_pages %}
    <nav aria-label="Page navigation example">
        <ul class="pagination justify-content-center">
            {% if posts.has_previous %}
            <li class="page-item"><a class="page-link" href="?page=1">&laquo;</a></li>
            <li class="page-item"><a class="page-link" href="?page={{ posts.previous_page_number }}">&lt;</a></li>
            {% else %}
            <li class="page-item disabled"><span class="page-link">&laquo;</span></li>
            <li class="page-item disabled"><span class="page-link">&lt;</span></li>
            {% endif %}

            {% for i in posts.paginator.page_range %}
            {% if posts.number == i %}
            <li class="page-item active"><span class="page-link">{{ i }} <span class="sr-only">(current)</span></span>
            </li>
            {% else %}
            <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
            {% endif %}
            {% endfor %}

            {% if posts.has_next %}
            <li class="page-item"><a class="page-link" href="?page={{ posts.next_page_number }}">&gt;</a></li>
            <li class="page-item"><a class="page-link" href="?page={{posts.paginator.num_pages}}">&raquo;</a></li>
            {% else %}
            <li class="page-item disabled"><span class="page-link">&gt;</span></li>
            <li class="page-item disabled"><span class="page-link">&raquo;</span></li>
            {% endif %}
        </ul>
    </nav>
    {% endif %}
    <hr>
    <div class="search_form ">
        <form class="form-inline my-2 my-lg-0 justify-content-center" action="" method="get">
            {# name 속성 : 변수 이름?  #}
            <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search" name="q" value="{{ q }}">
            <input type="submit" class="btn btn-primary" value="검색">
        </form>
    </div>
    <br>
</body>

</html>
{% endblock %}